<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="Endometrium Cancer Detection System using Deep Learning CNN">
    <title>{% block title %}Endometrium Cancer Detection{% endblock %}</title>

    <!-- Apply saved theme BEFORE paint to avoid flash -->
    <script>
        (function () {
            if (localStorage.getItem('ecd-theme') === 'light') {
                document.documentElement.setAttribute('data-theme', 'light');
            }
        })();
    </script>

    <!-- Fonts & Icons -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:ital,opsz,wght@0,14..32,300;0,14..32,400;0,14..32,500;0,14..32,600;0,14..32,700;0,14..32,800;1,14..32,400&family=DM+Sans:wght@400;500;600;700&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">

    <!-- Shared CSS -->
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">

    {% block head %}{% endblock %}
</head>

<body>

    <!-- ===== NAVBAR ===== -->
    <nav class="navbar">
        <div class="nav-wrapper">
            <a class="navbar-brand" href="/">
                <span class="brand-dot">ðŸ”¬</span>
                ECD System
            </a>

            <!-- Mobile Hamburger -->
            <div class="nav-ham" id="navHam" onclick="toggleNav()" aria-label="Toggle menu">
                <span></span><span></span><span></span>
            </div>

            <div class="nav-actions">
                <!-- Nav Links -->
                <ul class="nav-links" id="navLinks">
                    {% block nav_links %}
                    <li><a href="/analyse" class="{% block nav_analyse %}{% endblock %}">
                            <i class="fa fa-microscope"></i> Analyse
                        </a></li>
                    <li><a href="/graph.html" class="{% block nav_graph %}{% endblock %}">
                            <i class="fa fa-chart-bar"></i> Graphs
                        </a></li>
                    <li><a href="/developer.html" class="{% block nav_dev %}{% endblock %}">
                            <i class="fa fa-users"></i> Developers
                        </a></li>
                    <li><a href="/logout" class="nav-logout">
                            <i class="fa fa-sign-out-alt"></i> Logout
                        </a></li>
                    {% endblock %}
                </ul>

                <!-- Theme Toggle -->
                <button class="theme-toggle" id="themeToggle" onclick="toggleTheme()" aria-label="Toggle theme"
                    title="Switch theme">
                    <i class="fa fa-moon icon-dark"></i>
                    <i class="fa fa-sun icon-light"></i>
                </button>
            </div>
        </div>
    </nav>

    <!-- ===== PAGE CONTENT ===== -->
    {% block content %}{% endblock %}

    <!-- ===== FOOTER ===== -->
    <footer>
        <div class="footer-inner">
            <div class="footer-title">Endometrium Cancer Detection System</div>
            <div class="footer-sub">AI-powered histopathological image analysis using Convolutional Neural Networks for
                early-stage cancer detection.</div>
            <div class="footer-tags">
                <span class="footer-tag"><i class="fa fa-university"></i> Prof. Ram Meghe Institute of Technology &amp;
                    Research</span>
                <span class="footer-tag"><i class="fa fa-graduation-cap"></i> Dept. of CSE</span>
                <span class="footer-tag"><i class="fa fa-flask"></i> Flask &amp; TensorFlow</span>
            </div>
            <div class="footer-copy">Â© 2026 ECD System Â· All Rights Reserved</div>
        </div>
    </footer>

    <!-- ===== SCROLL TO TOP ===== -->
    <button id="scroll-top" onclick="window.scrollTo({top:0,behavior:'smooth'})" aria-label="Scroll to top">
        <i class="fa fa-arrow-up"></i>
    </button>

    <!-- ===== SCRIPTS ===== -->
    <script>
        // Theme toggle with localStorage persistence
        function toggleTheme() {
            const html = document.documentElement;
            const isLight = html.getAttribute('data-theme') === 'light';
            if (isLight) {
                html.removeAttribute('data-theme');
                localStorage.setItem('ecd-theme', 'dark');
            } else {
                html.setAttribute('data-theme', 'light');
                localStorage.setItem('ecd-theme', 'light');
            }
        }

        // Scroll-to-top
        window.addEventListener('scroll', function () {
            const btn = document.getElementById('scroll-top');
            btn.classList.toggle('show', window.scrollY > 300);
        });

        // Mobile nav toggle
        function toggleNav() {
            document.getElementById('navLinks').classList.toggle('open');
        }

        // Close mobile nav when clicking outside
        document.addEventListener('click', function (e) {
            const nav = document.getElementById('navLinks');
            const ham = document.getElementById('navHam');
            if (nav.classList.contains('open') && !nav.contains(e.target) && !ham.contains(e.target)) {
                nav.classList.remove('open');
            }
        });

        // Auto-dismiss alerts with animation
        document.querySelectorAll('.alert-close').forEach(btn => {
            btn.addEventListener('click', function () {
                const alert = this.closest('.alert');
                alert.style.opacity = '0';
                alert.style.transform = 'translateY(-8px)';
                alert.style.transition = 'all 0.25s ease';
                setTimeout(() => alert.style.display = 'none', 260);
            });
        });
    </script>

    {% block scripts %}{% endblock %}
</body>

</html>